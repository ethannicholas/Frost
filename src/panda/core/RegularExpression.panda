package panda.core

uses panda.unsafe.Pointer

@final
class RegularExpression : Immutable {
    @private
    def nativeHandle:Pointer<Int8>

    init(regex:String) {
        compile(regex)
    }

    @external
    function matcher(text:String):Matcher

    @override
    method cleanup() {
        destroy()
    }
    
    @private
    @external
    method compile(regex:String)

    @private
    @external
    method destroy()
}